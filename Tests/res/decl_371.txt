syn_fn_def(
  name: fn_symbol(do_if_in),
  params: [
    (type: type_ref(type_symbol(objexpr)), var: var(val)),
    (
      type: set_type(nonempty: true, elem_type: type_ref(type_symbol(symbobj))),
      var: var(values)
    ),
    (
      type: seq_type(nonempty: false, elem_type: type_ref(type_symbol(instr))),
      var: var(instrs)
    )
  ],
  local_fns: [],
  expr: tag_obj_expr(
    obj: map_expr(
      {
        (value: const_or_var(val), key: object(val)),
        (
          value: set_expr(
            {
              map_expr(
                {
                  (value: const_or_var(values), key: object(vals)),
                  (value: const_or_var(instrs), key: object(instrs))
                }
              )
            }
          ),
          key: object(cases)
        )
      }
    ),
    tag: object(symbol_switch)
  ),
  res_type: type_ref(type_symbol(instr))
)
