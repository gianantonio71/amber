syn_fn_def(
  name: fn_symbol(untyped_sgn),
  params: [(type: type_ref(type_symbol(fndef)), var: var(fd))],
  local_fns: [],
  expr: tag_obj_expr(
    obj: map_expr(
      {
        (
          value: accessor(expr: const_or_var(fd), field: object(name)),
          key: object(name)
        ),
        (
          value: fn_call(
            name: fn_symbol(arity),
            params: [const_or_var(fd)],
            named_params: []
          ),
          key: object(arity)
        ),
        (
          value: fn_call(
            name: fn_symbol(untyped_sgns),
            params: [
              accessor(expr: const_or_var(fd), field: object(named_params))
            ],
            named_params: []
          ),
          cond: neq(
            left: accessor(expr: const_or_var(fd), field: object(named_params)),
            right: map_expr({})
          ),
          key: object(named_params)
        )
      }
    ),
    tag: object(untyped_sgn)
  ),
  res_type: type_ref(type_symbol(untypedsgn))
)
