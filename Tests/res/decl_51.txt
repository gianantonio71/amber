syn_fn_def(
  name: fn_symbol(subseq),
  params: [
    (
      type: seq_type(nonempty: false, elem_type: type_var(t)),
      var: var(s)
    ),
    (type: type_ref(type_symbol(nat)), var: var(l)),
    (type: union_type({symb_type(object(nil))})),
    (type: type_ref(type_symbol(nat)), var: var(r))
  ],
  local_fns: [],
  expr: fn_call(
    name: fn_symbol(subseq),
    params: [
      const_or_var(s),
      const_or_var(l),
      fn_call(
        name: op_symbol(minus),
        params: [
          fn_call(
            name: op_symbol(minus),
            params: [
              fn_call(
                name: fn_symbol(length),
                params: [const_or_var(s)],
                named_params: []
              ),
              const_or_var(l)
            ],
            named_params: []
          ),
          const_or_var(r)
        ],
        named_params: []
      )
    ],
    named_params: []
  ),
  res_type: seq_type(nonempty: false, elem_type: type_var(t))
)
