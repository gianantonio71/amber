syn_fn_def(
  name: fn_symbol(compile),
  params: [
    (
      type: seq_type(nonempty: false, elem_type: type_ref(type_symbol(string))),
      var: var(ast_files)
    )
  ],
  local_fns: [],
  expr: do_expr(
    [
      print_stmt(
        tag_obj_expr(
          obj: seq_expr(
            head: [
              object(65),
              object(83),
              object(84),
              object(32),
              object(102),
              object(105),
              object(108),
              object(101),
              object(115),
              object(32),
              object(108),
              object(111),
              object(97),
              object(100),
              object(101),
              object(100)
            ]
          ),
          tag: object(string)
        )
      ),
      assignment_stmt(
        value: tag_obj_expr(
          obj: seq_comp(
            var: var(f),
            expr: fn_call(
              name: fn_symbol(parse_prg_decl),
              params: [const_or_var(f)],
              named_params: []
            ),
            src_expr: const_or_var(ast_files)
          ),
          tag: object(prg)
        ),
        var: var(syn_prg)
      ),
      print_stmt(
        tag_obj_expr(
          obj: seq_expr(
            head: [
              object(65),
              object(83),
              object(84),
              object(32),
              object(102),
              object(105),
              object(108),
              object(101),
              object(115),
              object(32),
              object(112),
              object(97),
              object(114),
              object(115),
              object(101),
              object(100)
            ]
          ),
          tag: object(string)
        )
      ),
      assignment_stmt(
        value: fn_call(
          name: fn_symbol(wf_errors),
          params: [const_or_var(syn_prg)],
          named_params: []
        ),
        var: var(errs)
      ),
      print_stmt(const_or_var(errs)),
      assignment_stmt(
        value: fn_call(
          name: fn_symbol(rem_syntax),
          params: [const_or_var(syn_prg)],
          named_params: []
        ),
        var: var(prg)
      ),
      print_stmt(
        tag_obj_expr(
          obj: seq_expr(
            head: [
              object(83),
              object(121),
              object(110),
              object(116),
              object(97),
              object(120),
              object(32),
              object(114),
              object(101),
              object(109),
              object(111),
              object(118),
              object(101),
              object(100)
            ]
          ),
          tag: object(string)
        )
      ),
      assignment_stmt(
        value: fn_call(
          name: fn_symbol(gen_prg_code),
          params: [const_or_var(prg)],
          named_params: []
        ),
        var: var(code)
      ),
      print_stmt(
        tag_obj_expr(
          obj: seq_expr(
            head: [
              object(67),
              object(111),
              object(100),
              object(101),
              object(32),
              object(103),
              object(101),
              object(110),
              object(101),
              object(114),
              object(97),
              object(116),
              object(101),
              object(100)
            ]
          ),
          tag: object(string)
        )
      ),
      assignment_stmt(
        value: fn_call(
          name: fn_symbol(compile_to_c),
          params: [const_or_var(code)],
          named_params: []
        ),
        var: var(c_code)
      ),
      print_stmt(
        tag_obj_expr(
          obj: seq_expr(
            head: [
              object(67),
              object(32),
              object(99),
              object(111),
              object(100),
              object(101),
              object(32),
              object(103),
              object(101),
              object(110),
              object(101),
              object(114),
              object(97),
              object(116),
              object(101),
              object(100)
            ]
          ),
          tag: object(string)
        )
      ),
      return_stmt(const_or_var(c_code))
    ]
  ),
  res_type: type_ref(type_symbol(ccodeoutput))
)
