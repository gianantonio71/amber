syn_fn_def(
  name: fn_symbol(untyped_sgn),
  params: [
    (type: type_ref(type_symbol(synfndef)), var: var(fd)),
    (
      type: set_type(nonempty: true, elem_type: type_ref(type_symbol(synsgn))),
      var: var(named_params)
    )
  ],
  local_fns: [],
  expr: tag_obj_expr(
    obj: map_expr(
      {
        (
          value: accessor(expr: const_or_var(fd), field: object(name)),
          key: object(name)
        ),
        (
          value: fn_call(
            name: fn_symbol(arity),
            params: [const_or_var(fd)],
            named_params: []
          ),
          key: object(arity)
        ),
        (
          value: set_comp(
            sel_exprs: [],
            source: [
              in_clause(
                src: const_or_var(named_params),
                ptrn: var_ptrn(name: var(p))
              )
            ],
            expr: fn_call(
              name: fn_symbol(untyped_sgn),
              params: [const_or_var(p)],
              named_params: []
            )
          ),
          key: object(named_params)
        )
      }
    ),
    tag: object(untyped_sgn)
  ),
  res_type: type_ref(type_symbol(untypedsgn))
)
