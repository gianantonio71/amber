syn_fn_def(
  name: fn_symbol(obj_proc_def),
  params: [
    (type: type_ref(type_symbol(objfnname)), var: var(name)),
    (type: type_ref(type_symbol(nat)), var: var(arity)),
    (
      type: map_type(
        value_type: type_ref(type_symbol(nat)),
        key_type: union_type(
          {
            tag_type(
              obj_type: type_ref(type_symbol(atom)),
              tag_type: symb_type(object(named_par))
            )
          }
        )
      ),
      var: var(nps)
    ),
    (
      type: seq_type(nonempty: true, elem_type: type_ref(type_symbol(instr))),
      var: var(body)
    )
  ],
  local_fns: [],
  expr: tag_obj_expr(
    obj: map_expr(
      {
        (value: const_or_var(name), key: object(name)),
        (value: const_or_var(body), key: object(body)),
        (value: const_or_var(nps), key: object(named_params)),
        (value: const_or_var(arity), key: object(in_arity))
      }
    ),
    tag: object(obj_proc_def)
  ),
  res_type: type_ref(type_symbol(objprocdef))
)
